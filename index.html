function renderPlayers() {

const container = document.getElementById("players");
if (!container) return;

if (!globalData || globalData.length === 0) {
  container.innerHTML = `
    <div style="padding:60px;text-align:center;color:#888;">
      <h2>No Active NBA Slate</h2>
      <p>All-Star Weekend or slate not yet posted.</p>
      <p>System ready for regular season return.</p>
    </div>
  `;
  return;
}

let html = "";

globalData.forEach((p,i)=>{

const first = p.props[0] || {};

html += `
<div class="player-card">

<div class="player-header" onclick="toggle(${i})">
<div class="player-info">

<div class="avatar">
${p.playerId
? `<img src="https://a.espncdn.com/i/headshots/nba/players/full/${p.playerId}.png"
   onerror="this.remove(); this.parentNode.innerHTML='${p.player.split(" ").map(x=>x[0]).join("")}'">`
: p.player.split(" ").map(x=>x[0]).join("")
}
</div>

<div>
<strong>${p.player}</strong>
<div style="color:#888;font-size:13px;margin-top:4px;">
${p.team || ""} ${p.opponent ? "@ " + p.opponent : ""}
</div>
</div>

</div>

<div>${first.probability || 50}%</div>
</div>

<div class="player-body" id="body-${i}">
<div class="section">
<div class="section-title">Props</div>
<div class="prop-row">
${p.props.map((prop,j)=>`
<div class="prop-box ${j===0?'active':''}"
onclick="selectProp(event,${i},${j})">
<div>${prop.stat}</div>
<div>${prop.line}</div>
</div>
`).join("")}
</div>
</div>

<div id="analytics-${i}">
${renderAnalytics(first)}
</div>

</div>
</div>
`;
});

container.innerHTML = html;
}
